# Phase 1 run record (2026-02-12)

## Commands executed

- `python3 scripts/vnext_build_citations.py`
- `python3 scripts/vnext_build_citation_iiif_map.py`
- `python3 scripts/vnext_validate_phase1.py`
- Determinism rerun (same three commands, second pass)
- `python3 -m unittest`

## Determinism hashes (sha256)

- `data/vnext/citations.csv`: `1aa96523d1dd54107eba6e284cc122bc511bb9d7f8910dd6677bf1098fcfdb24`
- `data/vnext/iiif_manifests.csv`: `04049dfe955f8a7b7f3a77775a4fcf82cf51f60cd695edd77c51791ae6b583d0`
- `data/vnext/iiif_source_rules.csv`: `521e287eb6cac7486c7ca857b83c97ecef1bdac8fb5f114f44fe96bf2e9a37d0`
- `data/vnext/citation_iiif_map.csv`: `71812bc18d64569a7fd5a42b06b7717ca32ac469cdce4e5d1b41326af0180b8d`
- `data/vnext/validation_report.md`: `d1a07cd51c2470f5d2a62c85c9b1c723f479c48f010184bf7d4a620580956d44`
- `data/vnext/needs_review_missing_manifest.csv`: `2d9e93f8b0bf4eae14d9812e77d02d88b3b5ca1999f924e28bd8c26f797456dd`
- `data/vnext/needs_review_missing_iiif.csv`: `57660a65710463fa8196e7acf63ca4a499727abd987b3fc7a9bd16ca4078fa8c`
- `data/vnext/needs_review_ambiguous_iiif.csv`: `0251d1d2241df0d735141293bb62d5725198ed744a5f6515e3779083a668ded3`
- `data/vnext/needs_review_bad_rows.csv`: `c8db165462982c6583395d057d18dba4115f14eddc4cb1270998fd0c8a8d1c17`

## Evidence sources used for IIIF rules

- `src/dmm-defs.xml`: biusante image templates for `barbaro`, `desmoulins`, and `lusitanus`.
- `revised_ed/editions_table.tsv`: archive.org base for `ruellius` (BIUSante_00815).
- No in-repo manifest or viewer URL found for `wechel`; placeholder scheme recorded in `data/vnext/iiif_source_rules.csv`.

## Coverage summary (non-TEI in scope)

| edition_id | citations | iiif_mapped | manifest_status |
| --- | --- | --- | --- |
| barbaro | 404 | 404 | provisional |
| desmoulins | 813 | 813 | provisional |
| lusitanus | 799 | 799 | provisional |
| ruellius | 951 | 951 | provisional |
| wechel | 1003 | 1003 | provisional |

## needs_review counts

- `needs_review_missing_manifest.csv`: 5
- `needs_review_missing_iiif.csv`: 0
- `needs_review_ambiguous_iiif.csv`: 0
- `needs_review_bad_rows.csv`: 0

## Top blockers (priority order)

1. Identify IIIF manifests for all five non-TEI editions; update `data/vnext/iiif_manifests.csv`.
2. Replace the placeholder Wechel target_url scheme with a real viewer URL template.
3. Confirm semantics of `barbaro_iiif`, `lusitanus_iiif`, and `ruel_web` vs the current URL templates.
